<div fxLayout="column" class="full-height" *ngIf="campaigns.length; else empty_state">
    <div fxFlex fxLayout="column" class="overflow-auto">
        <mat-accordion fxFlex [multi]="true">
            <mat-expansion-panel *ngFor="let campaign of campaigns; index as i">
                <mat-expansion-panel-header>
                    <span class="mat-body-2 margin-right-5">{{i + 1}}.</span>
                    <span class="mat-body-2 opacity-8  ">{{campaign.name}}</span>
                </mat-expansion-panel-header>
                <p>Description: {{campaign.description}}</p>
                <p>Price: {{campaign.price}}</p>
                <p>Max Leads: {{campaign.maxLeads}}</p>
                <mat-action-row>
                    <button mat-button
                            *ngxPermissionsOnly="['ADMIN', 'PUBLISHER']"
                            color="primary">EDIT</button>
                    <button mat-button
                            *ngxPermissionsOnly="['ADMIN', 'PUBLISHER']"
                            color="warn" (click)="onDelete(campaign)">DELETE</button>
                    <button mat-button
                            *ngxPermissionsOnly="['AFFILIATE']"
                            color="warn" (click)="onLeave(campaign)">LEAVE</button>
                </mat-action-row>
            </mat-expansion-panel>
        </mat-accordion>
    </div>
</div>

<ng-template #empty_state>
    <app-empty-state text="No Campaigns Found"
                     src="/assets/empty_states/empty_state_campaigns.png"></app-empty-state>
</ng-template>

