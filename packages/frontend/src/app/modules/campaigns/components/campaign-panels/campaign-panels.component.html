<div fxLayout="column" class="full-height" *ngIf="campaigns.length; else empty_state">
    <div fxFlex fxLayout="column" class="overflow-auto">
        <mat-accordion fxFlex [multi]="true">
            <mat-expansion-panel *ngFor="let campaign of campaigns; index as i">
                <mat-expansion-panel-header>
                    <span class="mat-body-2 margin-right-5">{{i + 1}}.</span>
                    <span class="mat-body-2 opacity-8  ">{{campaign.name}}</span>
                </mat-expansion-panel-header>
                <div fxLayout="row" fxLayoutAlign="start center">
                    <img fxFlex [src]="campaign.imageUrl" id="campaign-image"/>
                    <div fxFlex class="padding-10">
                        <p>Description: {{campaign.description}}</p>
                        <p>Price: {{campaign.price}}</p>
                        <p>Hedge Percentage: {{campaign.hedgePercentage}}</p>
                        <p>Max Leads: {{campaign.maxLeads}}</p>
                        <p>Max Daily Leads: {{campaign.maxDailyLeads}}</p>
                        <p>Marketing Text: {{campaign.marketingText}}</p>
                    </div>
                </div>
                <mat-action-row>
                    <div *ngIf="!isAffiliateActions">
                        <button mat-button
                                *ngxPermissionsOnly="['ADMIN', 'PUBLISHER']"
                                color="primary" (click)="onEdit(campaign)">{{'EDIT'}}</button>
                        <button mat-button
                                *ngxPermissionsOnly="['ADMIN', 'PUBLISHER']"
                                color="warn" (click)="onDelete(campaign)">{{'DELETE'}}</button>
                    </div>
                    <div *ngIf="isAffiliateActions" fxLayout="row" fxLayoutAlign="start center">
                        <button mat-button
                                *ngxPermissionsOnly="['ADMIN','AFFILIATE']"
                                color="warn" (click)="onSend(campaign)">{{'Send Lead'}}</button>
                        <span fxFlex></span>
                        <button mat-button
                                *ngxPermissionsOnly="['ADMIN','AFFILIATE']"
                                color="warn" (click)="onLeave(campaign)">{{'LEAVE'}}</button>
                    </div>
                </mat-action-row>

                <!--<mat-action-row *ngIf="joinEnabled">-->
                    <!--<button mat-button-->
                            <!--*ngxPermissionsOnly="['ADMIN','AFFILIATE']"-->
                            <!--color="warn" (click)="onLeave(campaign)">{{'LEAVE'}}</button>-->
                <!--</mat-action-row>-->

                <!--<mat-action-row *ngIf="!joinEnabled">-->
                    <!--<button mat-button-->
                            <!--*ngxPermissionsOnly="['ADMIN', 'PUBLISHER']"-->
                            <!--color="primary" (click)="onEdit(campaign)">{{'EDIT'}}</button>-->
                    <!--<button mat-button-->
                            <!--*ngxPermissionsOnly="['ADMIN', 'PUBLISHER']"-->
                            <!--color="warn" (click)="onDelete(campaign)">{{'DELETE'}}</button>-->
                <!--</mat-action-row>-->
            </mat-expansion-panel>
        </mat-accordion>
    </div>
</div>

<ng-template #empty_state>
    <app-empty-state text="No Campaigns Found"
                     src="/assets/empty_states/empty_state_campaigns.png"></app-empty-state>
</ng-template>

